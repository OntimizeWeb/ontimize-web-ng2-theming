@import 'node_modules/@angular/material/theming';
@mixin ontimize-theme-styles($theme) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  // $warn: map-get($theme, warn);
  $background: map-get($theme, background);
  $foreground: map-get($theme, foreground);
  $container-background: #ffffff;
  $border-radius: 6px;
  $button-line-height: 30px;
  $basic-padding-size: 8px;
  // $tabs-header-border: 1px solid mat-color($foreground, divider);
  $tabs-header-border: none;
  $inactive-tab-opacity: .35;
  // $mat-font-family: 'Lato', sans-serif !default;

  /* CONTAINER */
  .rounded-panel,
  .standalone-chart-container,
  .standalone-form-container .o-form-content-wrapper {
    background: $container-background;
    border-radius: $border-radius;
  }

  .standalone-chart-container {
    margin-top: 48px;
  }

  .standalone-form-container {
    .inner-form {
      padding: $basic-padding-size;
    }
  }

  /* APP LAYOUT */
  .application-layout-content-wrapper,
  .o-form-layout-dialog-overlay .mat-dialog-container {
    background: #eeeeee;
  }

  o-list-picker-dialog mat-toolbar o-search-input {
    span.icon-btn {
      color: mat-color($primary, default-contrast);
    }

    &.list-picker-search .mat-input-underline {
      border-color: mat-color($primary, default-contrast, 0.78);

      .mat-input-ripple {
        background-color: mat-color($primary, default-contrast);
      }
    }
  }

  /* APP SIDENAV */
  .o-app-sidenav {
    font-weight: 400;
    color: #aaaaaa;
  }

  /* USER INFO */
  o-app-header .o-app-header-title,
  o-user-info {
    font-weight: 700;
  }

  /* FORM */
  o-form-toolbar {
    .mat-toolbar {
      box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.24);
      background: $container-background;
      border-radius: $border-radius;
      min-height: initial;

      button.mat-button {
        color: mat-color($foreground, secondary-text);
        border: 1px solid mat-color($primary);
        border-radius: $border-radius;
        margin: 0 $basic-padding-size;
        line-height: $button-line-height;

        &[disabled] {
          border: 1px solid mat-color($background, disabled-button);
        }
      }

      button.mat-icon-button {
        color: mat-color($foreground, secondary-text);
        margin: 0 $basic-padding-size;
        line-height: $button-line-height;

        &:not([disabled]) mat-icon {
          color: mat-color($foreground, secondary-text);
        }
      }
    }
  }

  /* TABS */
  .mat-tab-group {
    // Ontimize tabs
    &.o-tab-ontimize {
      > .mat-tab-header {
        border: none;

        .mat-tab-label-container .mat-tab-label {
          border-top-left-radius: $border-radius;
          border-top-right-radius: $border-radius;
          opacity: $inactive-tab-opacity;

          &.mat-tab-label-active {
            background: $container-background;
            opacity: 1;
          }
        }

        mat-ink-bar {
          display: none;
        }
      }

      > .mat-tab-body-wrapper {
        background: $container-background;
        border-radius: $border-radius;
        border-top: $tabs-header-border;
        border-top-left-radius: initial;
      }
    }

    // All tabs
    &.mat-tab-group {
      .mat-tab-body-wrapper {
        padding: $basic-padding-size;
      }
    }
  }

  /* CONTAINERS */
  o-column,
  o-row {
    .o-container {
      .container-title {
        border-bottom-width: 2px;
        border-bottom-color: mat-color($primary);

        span {
          font-weight: 400;
        }
      }

      .container-content {
        padding: 24px 30px 8px;
      }
    }
  }

  /* TABLE */
  .ontimize-table.o-table {
    font-weight: 400;

    .o-table-menu {
      .o-table-option-active {
        background: mat-color($foreground, divider);
      }
    }

    .expandable-container {
      border: none;
      padding-top: $basic-padding-size;
      // margin-bottom: $basic-padding-size;
      background: $container-background;
      border-radius: $border-radius;
      box-sizing: border-box;
    }

    .o-table-container {
      .dt-buttons .dt-button {
        &.custom-generic-action::after,
        &.generic-action.generic-action::before {
          line-height: $button-line-height;
          padding: 0 $basic-padding-size;
        }

        &.custom-generic-action > span,
        &.generic-action > span {
          line-height: $button-line-height;
        }

        border: 1px solid mat-color($primary);
        border-radius: $border-radius;
        margin: 0 $basic-padding-size;

        &:not(.disabled):hover {
          border: 1px solid mat-color($primary);
          border-radius: $border-radius;
          margin: 0 $basic-padding-size;
        }
      }

      table {
        &:not(.o-table-fixed) {
          margin-top: 16px;
          margin-bottom: 16px;
        }

        &.small tr th {
          font-size: 16px;
        }

        &.medium tr th {
          font-size: 20px;
        }

        thead tr th {
          font-weight: 700;
          font-size: 24px;
        }

        tbody td,
        thead th {
          border-bottom: 1px solid mat-color($foreground, divider);
        }

        tbody td:first-child:not(.o-table-column-action):not(.o-table-column-select-checkbox),
        thead tr th:first-child:not(.o-table-column-select-checkbox) {
          border-right: none;
        }

        tbody td:last-child:not(.o-table-column-action),
        tbody td:nth-child(n+3):nth-last-child(n+2):not(.o-table-column-action),
        thead tr th:last-child:not(.o-table-column-action),
        thead tr th:nth-child(n+3):nth-last-child(n+2):not(.o-table-column-action) {
          border-left: none;
        }

        tbody tr.even,
        thead tr {
          background-color: initial;
        }

        tbody td.o-table-column-select-checkbox .mat-checkbox-inner-container .mat-checkbox-background,
        thead tr th.o-table-column-select-checkbox .mat-checkbox-inner-container .mat-checkbox-background {
          background-color: mat-color($accent);
        }

        thead tr th.sorting::before,
        thead tr th.sorting_asc::before,
        thead tr th.sorting_asc_disabled::before,
        thead tr th.sorting_desc::before,
        thead tr th.sorting_desc_disabled::before {
          margin-top: 4px;
        }

        thead tr th.sorting::after,
        thead tr th.sorting_asc::after,
        thead tr th.sorting_asc_disabled::after,
        thead tr th.sorting_desc::after,
        thead tr th.sorting_desc_disabled::after {
          margin-top: 4px;
        }
      }
    }

    .o-scrollable-container {
      height: calc(100% - #{$basic-padding-size} - #{$basic-padding-size});

      .o-table-container {
        height: auto;
      }
    }
  }

  /* O-TABLE */
  .o-table.o-table .o-table-container {
    .toolbar {
      margin: 0 0 4px;

      .buttons .o-table-button .mat-button {
        line-height: inherit;
        height: 32px;

        border: 1px solid mat-color($primary);
        border-radius: $border-radius;
        margin: 0 $basic-padding-size;

        &.disabled {
          border: 1px solid mat-color($background, disabled-button);
        }

        &:not(.disabled):hover {
          border: 1px solid mat-color($primary);
          border-radius: $border-radius;
          margin: 0 $basic-padding-size;
        }
      }
    }

    .mat-table {
      .mat-header-row {
        background-color: initial;

        .mat-header-cell {
          font-weight: 700;
          font-size: 24px;
        }
      }

      &.small .mat-header-cell {
        font-size: 16px;
      }

      &.medium .mat-header-cell {
        font-size: 20px;
      }
    }
  }

  /* TABLE FIXED */
  .ontimize-table.o-table.o-table-fixed {
    .expandable-container {
      height: calc(100% - #{$basic-padding-size} - #{$basic-padding-size});
    }

    .o-scrollable-container {
      .o-table-container {
        height: 100%;
      }
    }
  }

}
